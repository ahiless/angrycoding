(function(b){function e(a,f,h){var c=a.fsutils.wrapper,d=c.data("movie");if(!d)return c=Array.prototype.slice.call(arguments),a.fsutils.startupQueue.push(c);d.setParams(h);c.data("callback",f);c.data("target",a);d=a.offset();c.css({left:d.left,top:d.top,width:a.outerWidth(),height:a.outerHeight()})}b.fn.extend({fsutils:{startupQueue:[],wrapper:b({elmToReplace:null,flashIsInstalled:null,defaultFlashVersion:7,replace:function(a,f,h,c,d,b,e){typeof a==="string"&&(a=document.getElementById(a));this.elmToReplace=
a;this.flashIsInstalled=this.checkForFlash(b||this.defaultFlashVersion);if(this.elmToReplace&&this.flashIsInstalled){a="<object"+(window.ActiveXObject?' id="'+h+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" data="'+f+'"':"");a+=' width="'+c+'"';a+=' height="'+d+'"';a+=">";b="<param";b+=' name="movie"';b+=' value="'+f+'"';b+=">";b+="";var i="",j="",g;for(g in e)i+='<param name="'+g+'" value="'+e[g]+'">',j+=" "+g+'="'+e[g]+'"';this.elmToReplace.innerHTML=a+b+i+('<embed id="'+h+'" src="'+f+
'" type="application/x-shockwave-flash" width="'+c+'" height="'+d+'"')+(j+"></embed>")+"</object>"}return this.elmToReplace},checkForFlash:function(a){this.flashIsInstalled=!1;var f;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a),this.flashIsInstalled=!0}catch(b){}else if(navigator.plugins&&navigator.mimeTypes.length>0&&(f=navigator.plugins["Shockwave Flash"])&&navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")>=a)this.flashIsInstalled=
!0;return this.flashIsInstalled}}.replace(document.createElement("div"),["script/fsutils.swf",Math.random()].join("?"),"",900,900,9,{FlashVars:"onload=jQuery().fsutils.init",wmode:"transparent"})).appendTo(document.documentElement).css({position:"absolute","z-index":"10000000",top:"-100000px",left:"-100000px",overflow:"hidden"}),init:function(){var a=b("*[id]",this.wrapper)[0];this.wrapper.data("movie",a);a.addEventListener("onmouseevent",function(a){var b=jQuery().fsutils.wrapper,c=b.position();
a.type=="mouseout"&&b.css({top:"-100000px",left:"-100000px"});b.data("target").trigger(jQuery.Event(a.type,{pageX:c.left+a.stageX,pageY:c.top+a.stageY}))}.toString());a.addEventListener("onload",function(){var a=jQuery().fsutils.wrapper;return a.data("callback").apply(a.data("target"),arguments)}.toString());for(a.addEventListener("onsave",function(){var a=jQuery().fsutils.wrapper;return a.data("callback").apply(a.data("target"),arguments)}.toString());this.startupQueue.length;)e.apply(this,this.startupQueue.pop())}},
openFileDialog:function(a){this.mouseover(function(){e(b(this),a,{dialogType:"open",fileFilter:"*.png;*.jpg;*.gif;*.svg"})});return b(this)},saveFileDialog:function(a){this.mouseover(function(){e(b(this),a,{dialogType:"save"})});return b(this)}})})(jQuery);
